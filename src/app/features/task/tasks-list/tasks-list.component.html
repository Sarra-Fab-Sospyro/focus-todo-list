<div class="container_task_list">
  <div class="header_task_list">
    <div>
      @for(filter of taskFilters; track filter){
      <button [class.active]="currentFilter() === filter" class="btn_filter" (click)="onFilterChange(filter)">
        {{ filter }}
      </button>
      }
    </div>
    <div>
      <button class="btn_list btn_add" (click)="toNewTask()">
        <mat-icon fontIcon="add"></mat-icon>
      </button>
    </div>
  </div>

  <div class="body_task_list">
    <table class="table">
      <thead>
        <th>Title</th>
        <th>Status</th>
        <th colspan="3">Action</th>
      </thead>
      <tbody>
        @for(task of listTask(); track task.id){
        <tr>
          <td [class]="task.isCompleted | completed">{{ task.title }}</td>
          <td>
            <mat-checkbox class="green_check" [checked]="task.isCompleted" (change)="toggleTaskStatus(task.id)"
              aria-label="Toggle task completion">
            </mat-checkbox>
          </td>
          <td>
            <button class="btn_list btn_info" (click)="selectTask(task.id)" matTooltip="Vedi dettagli">
              <mat-icon fontIcon="info_I">
              </mat-icon>
            </button>
          </td>
          <td>
            <button class="btn_list btn_edit" (click)="updateTask(task.id)">
              <mat-icon fontIcon="edit"></mat-icon>
            </button>
          </td>
          <td>
            <button class="btn_delete btn_list" (click)="deleteTask(task.id)">
              <mat-icon fontIcon="delete"></mat-icon>
            </button>
          </td>
        </tr>
        }
      </tbody>
    </table>
  </div>
</div>

